<html><head><meta charset="utf-8"/><title>Relatório de Testes</title><style type="text/css">:root {
  --text-primary: #111;
  --text-secondary: #4f4f4f;
  --success: #006633;
  --success-bright: #80ffbf;
  --danger: #cc071e;
  --danger-bright: #fbdfe0;
  --warning: #995c00;
  --warning-bright: #ffeea8;
  --panel: #eee;
  --border: #949494;
  --disabled: #6b6b6b;
}

html,
body {
  font-family: Arial, Helvetica, sans-serif;
  font-size: 16px;
  margin: 0;
  padding: 0;
  color: var(--text-primary);
}
body {
  padding: 2rem 1rem;
}
.jesthtml-content {
  margin: 0 auto;
  max-width: 70rem;
}
header {
  display: flex;
  align-items: center;
}
#title {
  margin: 0;
  flex-grow: 1;
}
#logo {
  height: 4rem;
}
#timestamp {
  color: var(--text-secondary);
  margin-top: 0.5rem;
}

#metadata-container {
  display: flex;
  flex-direction: column;
  gap: 2rem;
  margin-bottom: 2rem;
}

.additional-information-container {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  color: var(--text-secondary);
}

/** SUMMARY */
#summary {
  color: var(--text-primary);
  display: flex;
  font-family: monospace;
  font-size: 1rem;
}
#summary > div {
  margin-right: 0.5rem;
  background: var(--panel);
  padding: 1rem;
  min-width: 15rem;
}
#summary > div:last-child {
  margin-right: 0;
}
@media only screen and (max-width: 720px) {
  #summary {
    flex-direction: column;
  }
  #summary > div {
    margin-right: 0;
    margin-top: 1rem;
  }
  #summary > div:first-child {
    margin-top: 0;
  }
}

.summary-total {
  font-weight: bold;
  margin-bottom: 0.5rem;
}
.summary-passed {
  color: var(--success);
  border-left: 0.4rem solid var(--success);
  padding-left: 0.5rem;
  margin-bottom: 0.15rem;
}
.summary-failed,
.summary-obsolete-snapshots {
  color: var(--danger);
  border-left: 0.4rem solid var(--danger);
  padding-left: 0.5rem;
  margin-bottom: 0.15rem;
}
.summary-pending {
  color: var(--warning);
  border-left: 0.4rem solid var(--warning);
  padding-left: 0.5rem;
  margin-bottom: 0.15rem;
}
.summary-empty {
  color: var(--disabled);
  border-left: 0.4rem solid var(--disabled);
  margin-bottom: 0.15rem;
}

.test-result {
  padding: 1rem;
  margin-bottom: 0.25rem;
}
.test-result:last-child {
  border: 0;
}
.test-result.passed {
  background-color: var(--success-bright);
  color: var(--success);
}
.test-result.failed {
  background-color: var(--danger-bright);
  color: var(--danger);
}
.test-result.pending {
  background-color: var(--warning-bright);
  color: var(--warning);
}

.test-info {
  display: flex;
  justify-content: space-between;
}
.test-suitename {
  width: 20%;
  text-align: left;
  font-weight: bold;
  word-break: break-word;
}
.test-title {
  width: 40%;
  text-align: left;
  font-style: italic;
}
.test-status {
  width: 20%;
  text-align: right;
}
.test-duration {
  width: 10%;
  text-align: right;
  font-size: 0.85rem;
}

.failureMessages {
  padding: 0 1rem;
  margin-top: 1rem;
  border-top: 1px dashed var(--danger);
}
.failureMessages.suiteFailure {
  border-top: none;
}
.failureMsg {
  white-space: pre-wrap;
  white-space: -moz-pre-wrap;
  white-space: -pre-wrap;
  white-space: -o-pre-wrap;
  word-wrap: break-word;
}

.suite-container {
  margin-bottom: 1rem;
}
.suite-info {
  padding: 1rem;
  background-color: var(--panel);
  color: var(--text-secondary);
  border: 0.15rem solid;
  border-color: var(--panel);
  display: flex;
  align-items: center;
  margin-bottom: 0.25rem;
}
.suite-info:hover {
  border-color: var(--border);
  cursor: pointer;
}
.suite-info .suite-path {
  word-break: break-all;
  flex-grow: 1;
  font-family: monospace;
  font-size: 1rem;
}
.suite-info .suite-time {
  margin-left: 1rem;
  padding: 0.2rem 0.3rem;
  font-size: 0.85rem;
}
.suite-info .suite-time.warn {
  background-color: var(--danger);
  color: #fff;
}
.suite-info:before {
  content: "\2303";
  display: inline-block;
  margin-right: 1rem;
  transform: rotate(180deg) translateY(0.15rem);
}
.suite-container[open] .suite-info:before {
  transform: rotate(0deg) translateY(0.15rem);
}

/* CONSOLE LOGS */
.suite-consolelog {
  margin-bottom: 0.25rem;
  padding: 1rem;
  background-color: var(--panel);
}
.suite-consolelog-header {
  font-weight: bold;
}
.suite-consolelog-item {
  padding: 0.5rem;
}
.suite-consolelog-item pre {
  margin: 0.5rem 0;
  white-space: pre-wrap;
  white-space: -moz-pre-wrap;
  white-space: -pre-wrap;
  white-space: -o-pre-wrap;
  word-wrap: break-word;
}
.suite-consolelog-item-origin {
  color: var(--text-secondary);
  font-weight: bold;
}
.suite-consolelog-item-message {
  color: var(--text-primary);
  font-size: 1rem;
  padding: 0 0.5rem;
}

/* OBSOLETE SNAPSHOTS */
.suite-obsolete-snapshots {
  margin-bottom: 0.25rem;
  padding: 1rem;
  background-color: var(--danger-bright);
  color: var(--danger);
}
.suite-obsolete-snapshots-header {
  font-weight: bold;
}
.suite-obsolete-snapshots-item {
  padding: 0.5rem;
}
.suite-obsolete-snapshots-item pre {
  margin: 0.5rem 0;
  white-space: pre-wrap;
  white-space: -moz-pre-wrap;
  white-space: -pre-wrap;
  white-space: -o-pre-wrap;
  word-wrap: break-word;
}
.suite-obsolete-snapshots-item-message {
  color: var(--text-primary);
  font-size: 1rem;
  padding: 0 0.5rem;
}
</style></head><body><main class="jesthtml-content"><header><h1 id="title">Relatório de Testes</h1></header><section id="metadata-container"><div id="timestamp">Started: 2026-02-23 20:16:45</div><div id="summary"><div id="suite-summary"><div class="summary-total">Suites (6)</div><div class="summary-passed ">6 passed</div><div class="summary-failed  summary-empty">0 failed</div><div class="summary-pending  summary-empty">0 pending</div></div><div id="test-summary"><div class="summary-total">Tests (156)</div><div class="summary-passed ">156 passed</div><div class="summary-failed  summary-empty">0 failed</div><div class="summary-pending  summary-empty">0 pending</div></div></div></section><details id="suite-1" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">C:\Users\alber\biblioteca-project\src\tests\integrations\recomendacao.test.ts</div><div class="suite-time warn">21.658s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; GET /api/recomendacoes/me</div><div class="test-title">deve retornar recomendações para usuário sem histórico (novo usuário)</div><div class="test-status">passed</div><div class="test-duration">0.347s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; GET /api/recomendacoes/me</div><div class="test-title">deve retornar recomendações baseadas em histórico de empréstimos</div><div class="test-status">passed</div><div class="test-duration">0.407s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; GET /api/recomendacoes/me</div><div class="test-title">deve recomendar baseado em categorias favoritas</div><div class="test-status">passed</div><div class="test-duration">0.457s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; GET /api/recomendacoes/me</div><div class="test-title">deve respeitar o limite de recomendações</div><div class="test-status">passed</div><div class="test-duration">0.275s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; GET /api/recomendacoes/me</div><div class="test-title">deve negar acesso sem token</div><div class="test-status">passed</div><div class="test-duration">0.264s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; GET /api/recomendacoes/novo-usuario</div><div class="test-title">deve retornar recomendações para novo usuário (livros recentes)</div><div class="test-status">passed</div><div class="test-duration">0.284s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; GET /api/recomendacoes/novo-usuario</div><div class="test-title">deve respeitar o limite</div><div class="test-status">passed</div><div class="test-duration">0.461s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; GET /api/recomendacoes/categoria/:categoriaId</div><div class="test-title">deve recomendar livros de uma categoria específica</div><div class="test-status">passed</div><div class="test-duration">0.449s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; GET /api/recomendacoes/categoria/:categoriaId</div><div class="test-title">deve excluir livros já emprestados pelo usuário</div><div class="test-status">passed</div><div class="test-duration">0.474s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; GET /api/recomendacoes/autor/:autorId</div><div class="test-title">deve recomendar livros de um autor específico</div><div class="test-status">passed</div><div class="test-duration">0.438s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; GET /api/recomendacoes/autor/:autorId</div><div class="test-title">deve excluir livros já emprestados pelo usuário</div><div class="test-status">passed</div><div class="test-duration">0.487s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; GET /api/recomendacoes/preferencias</div><div class="test-title">deve retornar preferências do usuário baseadas no histórico</div><div class="test-status">passed</div><div class="test-duration">0.692s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; GET /api/recomendacoes/preferencias</div><div class="test-title">deve retornar array vazio para usuário sem histórico</div><div class="test-status">passed</div><div class="test-duration">0.643s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; Combinações de recomendações</div><div class="test-title">deve misturar recomendações por categoria e autor</div><div class="test-status">passed</div><div class="test-duration">0.637s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; Combinações de recomendações</div><div class="test-title">não deve recomendar livros repetidos</div><div class="test-status">passed</div><div class="test-duration">0.546s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; Validações e erros</div><div class="test-title">deve retornar erro 401 sem token</div><div class="test-status">passed</div><div class="test-duration">0.625s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; Validações e erros</div><div class="test-title">deve retornar erro para categoria inexistente</div><div class="test-status">passed</div><div class="test-duration">0.503s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; Validações e erros</div><div class="test-title">deve retornar erro para autor inexistente</div><div class="test-status">passed</div><div class="test-duration">0.433s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; Validações e erros</div><div class="test-title">deve aceitar token de admin normalmente</div><div class="test-status">passed</div><div class="test-duration">0.37s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; Performance e limites</div><div class="test-title">deve retornar no máximo o limite solicitado</div><div class="test-status">passed</div><div class="test-duration">0.478s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Recomendação (MySQL) &gt; Performance e limites</div><div class="test-title">deve usar limite padrão de 10 quando não especificado</div><div class="test-status">passed</div><div class="test-duration">0.635s</div></div></div></div></details><details id="suite-2" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">C:\Users\alber\biblioteca-project\src\tests\integrations\categoria.test.ts</div><div class="suite-time warn">18.281s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; POST /api/categorias</div><div class="test-title">deve criar uma nova categoria com sucesso (admin)</div><div class="test-status">passed</div><div class="test-duration">0.79s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; POST /api/categorias</div><div class="test-title">deve negar criação de categoria para usuário não-admin</div><div class="test-status">passed</div><div class="test-duration">0.401s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; POST /api/categorias</div><div class="test-title">deve negar criação sem token</div><div class="test-status">passed</div><div class="test-duration">0.389s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; POST /api/categorias</div><div class="test-title">deve criar categoria apenas com nome (campo obrigatório) (admin)</div><div class="test-status">passed</div><div class="test-duration">0.425s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; POST /api/categorias</div><div class="test-title">deve retornar erro quando nome não é informado (admin)</div><div class="test-status">passed</div><div class="test-duration">0.502s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; POST /api/categorias</div><div class="test-title">deve retornar erro quando nome tem menos de 2 caracteres (admin)</div><div class="test-status">passed</div><div class="test-duration">0.314s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; POST /api/categorias</div><div class="test-title">deve trimar espaços em branco do nome e descrição (admin)</div><div class="test-status">passed</div><div class="test-duration">0.399s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; POST /api/categorias</div><div class="test-title">deve retornar erro ao criar categoria com nome duplicado (admin)</div><div class="test-status">passed</div><div class="test-duration">0.298s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias</div><div class="test-title">deve listar todas as categorias com token válido</div><div class="test-status">passed</div><div class="test-duration">0.349s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias</div><div class="test-title">deve negar listagem sem token</div><div class="test-status">passed</div><div class="test-duration">0.25s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias</div><div class="test-title">deve listar categorias com token de admin</div><div class="test-status">passed</div><div class="test-duration">0.319s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias/paginated</div><div class="test-title">deve retornar primeira página com 10 itens por padrão</div><div class="test-status">passed</div><div class="test-duration">0.351s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias/paginated</div><div class="test-title">deve retornar segunda página</div><div class="test-status">passed</div><div class="test-duration">0.385s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias/paginated</div><div class="test-title">deve permitir customizar tamanho da página</div><div class="test-status">passed</div><div class="test-duration">0.979s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias/paginated</div><div class="test-title">deve negar acesso sem token</div><div class="test-status">passed</div><div class="test-duration">0.596s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias/one/:id</div><div class="test-title">deve buscar categoria por ID com sucesso</div><div class="test-status">passed</div><div class="test-duration">0.4s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias/one/:id</div><div class="test-title">deve negar acesso sem token</div><div class="test-status">passed</div><div class="test-duration">0.377s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias/one/:id</div><div class="test-title">deve retornar erro para categoria não encontrada</div><div class="test-status">passed</div><div class="test-duration">0.387s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; PUT /api/categorias/:id</div><div class="test-title">deve atualizar categoria com sucesso (admin)</div><div class="test-status">passed</div><div class="test-duration">0.395s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; PUT /api/categorias/:id</div><div class="test-title">deve negar atualização para usuário não-admin</div><div class="test-status">passed</div><div class="test-duration">0.347s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; PUT /api/categorias/:id</div><div class="test-title">deve negar atualização sem token</div><div class="test-status">passed</div><div class="test-duration">0.318s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; PUT /api/categorias/:id</div><div class="test-title">deve atualizar apenas campos informados (admin)</div><div class="test-status">passed</div><div class="test-duration">0.338s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; PUT /api/categorias/:id</div><div class="test-title">deve retornar erro ao tentar atualizar categoria inexistente (admin)</div><div class="test-status">passed</div><div class="test-duration">0.288s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; PUT /api/categorias/:id</div><div class="test-title">deve retornar erro ao enviar nome muito curto (admin)</div><div class="test-status">passed</div><div class="test-duration">0.249s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; PUT /api/categorias/:id</div><div class="test-title">deve retornar erro ao não enviar dados para atualização (admin)</div><div class="test-status">passed</div><div class="test-duration">0.273s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; PUT /api/categorias/:id</div><div class="test-title">deve retornar erro ao tentar atualizar para nome já existente (admin)</div><div class="test-status">passed</div><div class="test-duration">0.339s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; DELETE /api/categorias/:id</div><div class="test-title">deve deletar categoria com sucesso (admin)</div><div class="test-status">passed</div><div class="test-duration">0.291s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; DELETE /api/categorias/:id</div><div class="test-title">deve negar deleção para usuário não-admin</div><div class="test-status">passed</div><div class="test-duration">0.329s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; DELETE /api/categorias/:id</div><div class="test-title">deve negar deleção sem token</div><div class="test-status">passed</div><div class="test-duration">0.307s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; DELETE /api/categorias/:id</div><div class="test-title">deve retornar erro ao deletar categoria inexistente (admin)</div><div class="test-status">passed</div><div class="test-duration">0.281s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias/search</div><div class="test-title">deve buscar categorias por nome com token válido</div><div class="test-status">passed</div><div class="test-duration">0.31s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias/search</div><div class="test-title">deve negar busca sem token</div><div class="test-status">passed</div><div class="test-duration">0.3s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias/search</div><div class="test-title">deve ser case insensitive na busca</div><div class="test-status">passed</div><div class="test-duration">0.281s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias/search</div><div class="test-title">deve buscar categorias por parte do nome</div><div class="test-status">passed</div><div class="test-duration">0.257s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias/search</div><div class="test-title">deve retornar array vazio quando não encontra resultados</div><div class="test-status">passed</div><div class="test-duration">0.407s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias/search</div><div class="test-title">deve retornar erro quando termo de busca é muito curto</div><div class="test-status">passed</div><div class="test-duration">0.409s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias/search</div><div class="test-title">deve retornar erro quando não informa termo de busca</div><div class="test-status">passed</div><div class="test-duration">0.349s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias/stats</div><div class="test-title">deve retornar total de categorias com token válido</div><div class="test-status">passed</div><div class="test-duration">0.377s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Categoria (MySQL) &gt; GET /api/categorias/stats</div><div class="test-title">deve negar acesso sem token</div><div class="test-status">passed</div><div class="test-duration">0.419s</div></div></div></div></details><details id="suite-3" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">C:\Users\alber\biblioteca-project\src\tests\integrations\emprestimo.test.ts</div><div class="suite-time warn">13.994s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; POST /api/emprestimos</div><div class="test-title">deve criar um novo empréstimo com sucesso (admin)</div><div class="test-status">passed</div><div class="test-duration">0.416s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; POST /api/emprestimos</div><div class="test-title">deve permitir usuário comum criar empréstimo</div><div class="test-status">passed</div><div class="test-duration">0.397s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; POST /api/emprestimos</div><div class="test-title">deve negar criação sem token</div><div class="test-status">passed</div><div class="test-duration">0.327s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; POST /api/emprestimos</div><div class="test-title">deve retornar erro quando usuário não é informado</div><div class="test-status">passed</div><div class="test-duration">0.284s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; POST /api/emprestimos</div><div class="test-title">deve retornar erro quando livro não é informado</div><div class="test-status">passed</div><div class="test-duration">0.304s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; POST /api/emprestimos</div><div class="test-title">deve retornar erro quando livro não tem estoque</div><div class="test-status">passed</div><div class="test-duration">0.379s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; GET /api/emprestimos</div><div class="test-title">deve listar todos os empréstimos com token de admin</div><div class="test-status">passed</div><div class="test-duration">0.333s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; GET /api/emprestimos</div><div class="test-title">deve negar listagem sem token</div><div class="test-status">passed</div><div class="test-duration">0.293s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; GET /api/emprestimos/paginated</div><div class="test-title">deve retornar primeira página com 10 itens por padrão (admin)</div><div class="test-status">passed</div><div class="test-duration">0.345s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; GET /api/emprestimos/:id</div><div class="test-title">deve permitir admin buscar empréstimo por ID</div><div class="test-status">passed</div><div class="test-duration">0.31s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; GET /api/emprestimos/:id</div><div class="test-title">deve permitir usuário buscar próprio empréstimo</div><div class="test-status">passed</div><div class="test-duration">0.291s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; GET /api/emprestimos/:id</div><div class="test-title">deve retornar erro para empréstimo não encontrado</div><div class="test-status">passed</div><div class="test-duration">0.373s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; GET /api/emprestimos/usuario/:usuarioId</div><div class="test-title">deve permitir usuário buscar seus próprios empréstimos</div><div class="test-status">passed</div><div class="test-duration">0.369s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; GET /api/emprestimos/usuario/:usuarioId</div><div class="test-title">deve permitir admin buscar empréstimos de qualquer usuário</div><div class="test-status">passed</div><div class="test-duration">0.437s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; GET /api/emprestimos/status/ativos</div><div class="test-title">deve listar apenas empréstimos ativos (admin)</div><div class="test-status">passed</div><div class="test-duration">0.412s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; GET /api/emprestimos/status/atrasados</div><div class="test-title">deve listar apenas empréstimos atrasados (admin)</div><div class="test-status">passed</div><div class="test-duration">0.37s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; POST /api/emprestimos/:id/devolver</div><div class="test-title">deve registrar devolução com sucesso (admin)</div><div class="test-status">passed</div><div class="test-duration">0.458s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; POST /api/emprestimos/:id/devolver</div><div class="test-title">deve permitir usuário devolver próprio empréstimo</div><div class="test-status">passed</div><div class="test-duration">0.327s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; POST /api/emprestimos/:id/devolver</div><div class="test-title">deve retornar erro ao devolver empréstimo já devolvido</div><div class="test-status">passed</div><div class="test-duration">0.426s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; POST /api/emprestimos/:id/marcar-atrasado</div><div class="test-title">deve marcar empréstimo como atrasado (admin)</div><div class="test-status">passed</div><div class="test-duration">0.373s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; GET /api/emprestimos/com-detalhes</div><div class="test-title">deve retornar empréstimos com detalhes de usuário e livro (admin)</div><div class="test-status">passed</div><div class="test-duration">0.299s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; GET /api/emprestimos/check/usuario/:usuarioId/ativos</div><div class="test-title">deve verificar se usuário tem empréstimos ativos (admin)</div><div class="test-status">passed</div><div class="test-duration">0.524s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; GET /api/emprestimos/check/usuario/:usuarioId/ativos</div><div class="test-title">deve permitir usuário verificar seus próprios empréstimos</div><div class="test-status">passed</div><div class="test-duration">0.589s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; GET /api/emprestimos/check/livro/:livroId/emprestado</div><div class="test-title">deve verificar se livro está emprestado (admin)</div><div class="test-status">passed</div><div class="test-duration">0.391s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; GET /api/emprestimos/check/livro/:livroId/emprestado</div><div class="test-title">deve permitir usuário comum verificar livro</div><div class="test-status">passed</div><div class="test-duration">0.303s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Empréstimo (MySQL) &gt; Fluxo completo de empréstimo</div><div class="test-title">deve executar fluxo completo de empréstimo com diferentes perfis</div><div class="test-status">passed</div><div class="test-duration">0.39s</div></div></div></div></details><details id="suite-4" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">C:\Users\alber\biblioteca-project\src\tests\integrations\livro.test.ts</div><div class="suite-time warn">14.569s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; POST /api/livros</div><div class="test-title">deve criar um novo livro com sucesso (admin)</div><div class="test-status">passed</div><div class="test-duration">0.369s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; POST /api/livros</div><div class="test-title">deve negar criação de livro para usuário não-admin</div><div class="test-status">passed</div><div class="test-duration">0.263s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; POST /api/livros</div><div class="test-title">deve negar criação sem token</div><div class="test-status">passed</div><div class="test-duration">0.272s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; POST /api/livros</div><div class="test-title">deve criar livro com quantidade disponível padrão 0 (admin)</div><div class="test-status">passed</div><div class="test-duration">0.331s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; POST /api/livros</div><div class="test-title">deve retornar erro quando título não é informado (admin)</div><div class="test-status">passed</div><div class="test-duration">0.273s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; POST /api/livros</div><div class="test-title">deve retornar erro quando título tem menos de 2 caracteres (admin)</div><div class="test-status">passed</div><div class="test-duration">0.296s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; POST /api/livros</div><div class="test-title">deve retornar erro quando ano de publicação é futuro (admin)</div><div class="test-status">passed</div><div class="test-duration">0.298s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; POST /api/livros</div><div class="test-title">deve trimar espaços em branco do título e sinopse (admin)</div><div class="test-status">passed</div><div class="test-duration">0.391s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; GET /api/livros</div><div class="test-title">deve listar todos os livros com token válido</div><div class="test-status">passed</div><div class="test-duration">0.336s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; GET /api/livros</div><div class="test-title">deve negar listagem sem token</div><div class="test-status">passed</div><div class="test-duration">0.386s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; GET /api/livros/paginated</div><div class="test-title">deve retornar primeira página com 10 itens por padrão</div><div class="test-status">passed</div><div class="test-duration">0.36s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; GET /api/livros/paginated</div><div class="test-title">deve retornar segunda página com 5 itens</div><div class="test-status">passed</div><div class="test-duration">0.382s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; GET /api/livros/:id</div><div class="test-title">deve buscar livro por ID com sucesso</div><div class="test-status">passed</div><div class="test-duration">0.446s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; GET /api/livros/:id</div><div class="test-title">deve retornar erro para livro não encontrado</div><div class="test-status">passed</div><div class="test-duration">0.33s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; PUT /api/livros/:id</div><div class="test-title">deve atualizar livro com sucesso (admin)</div><div class="test-status">passed</div><div class="test-duration">0.521s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; PUT /api/livros/:id</div><div class="test-title">deve negar atualização para usuário não-admin</div><div class="test-status">passed</div><div class="test-duration">0.367s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; DELETE /api/livros/:id</div><div class="test-title">deve deletar livro com sucesso (admin)</div><div class="test-status">passed</div><div class="test-duration">0.386s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; DELETE /api/livros/:id</div><div class="test-title">deve negar deleção para usuário não-admin</div><div class="test-status">passed</div><div class="test-duration">0.773s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; GET /api/livros/search</div><div class="test-title">deve buscar livros por título com token válido</div><div class="test-status">passed</div><div class="test-duration">0.412s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; GET /api/livros/autor/:autorId</div><div class="test-title">deve buscar livros por autor com token válido</div><div class="test-status">passed</div><div class="test-duration">0.408s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; GET /api/livros/categoria/:categoriaId</div><div class="test-title">deve buscar livros por categoria com token válido</div><div class="test-status">passed</div><div class="test-duration">0.312s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; GET /api/livros/disponiveis</div><div class="test-title">deve listar apenas livros disponíveis</div><div class="test-status">passed</div><div class="test-duration">0.348s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; GET /api/livros/stats</div><div class="test-title">deve retornar estatísticas de livros</div><div class="test-status">passed</div><div class="test-duration">0.413s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; POST /api/livros/:id/emprestar</div><div class="test-title">deve permitir usuário comum emprestar livro</div><div class="test-status">passed</div><div class="test-duration">0.368s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; POST /api/livros/:id/emprestar</div><div class="test-title">deve negar empréstimo sem token</div><div class="test-status">passed</div><div class="test-duration">0.472s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; POST /api/livros/:id/emprestar</div><div class="test-title">deve retornar erro ao emprestar livro sem estoque</div><div class="test-status">passed</div><div class="test-duration">0.311s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; POST /api/livros/:id/devolver</div><div class="test-title">deve permitir usuário comum devolver livro</div><div class="test-status">passed</div><div class="test-duration">0.348s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Livro (MySQL) &gt; Fluxo completo de operações</div><div class="test-title">deve executar fluxo completo de empréstimo e devolução com diferentes perfis</div><div class="test-status">passed</div><div class="test-duration">0.477s</div></div></div></div></details><details id="suite-5" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">C:\Users\alber\biblioteca-project\src\tests\integrations\autor.test.ts</div><div class="suite-time warn">8.97s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; POST /api/autores</div><div class="test-title">deve criar um novo autor com sucesso (admin)</div><div class="test-status">passed</div><div class="test-duration">0.341s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; POST /api/autores</div><div class="test-title">deve negar criação de autor para usuário não-admin</div><div class="test-status">passed</div><div class="test-duration">0.353s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; POST /api/autores</div><div class="test-title">deve negar criação sem token</div><div class="test-status">passed</div><div class="test-duration">0.541s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; POST /api/autores</div><div class="test-title">deve criar autor apenas com campos obrigatórios (admin)</div><div class="test-status">passed</div><div class="test-duration">0.493s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; POST /api/autores</div><div class="test-title">deve retornar erro quando nome não é informado (admin)</div><div class="test-status">passed</div><div class="test-duration">0.349s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; POST /api/autores</div><div class="test-title">deve retornar erro quando nome tem menos de 2 caracteres (admin)</div><div class="test-status">passed</div><div class="test-duration">0.233s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; POST /api/autores</div><div class="test-title">deve trimar espaços em branco do nome (admin)</div><div class="test-status">passed</div><div class="test-duration">0.242s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; GET /api/autores</div><div class="test-title">deve listar todos os autores com token válido</div><div class="test-status">passed</div><div class="test-duration">0.376s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; GET /api/autores</div><div class="test-title">deve negar listagem sem token</div><div class="test-status">passed</div><div class="test-duration">0.243s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; GET /api/autores</div><div class="test-title">deve listar autores com token de admin</div><div class="test-status">passed</div><div class="test-duration">0.288s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; GET /api/autores/paginated</div><div class="test-title">deve retornar primeira página com 10 itens por padrão</div><div class="test-status">passed</div><div class="test-duration">0.402s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; GET /api/autores/paginated</div><div class="test-title">deve retornar segunda página</div><div class="test-status">passed</div><div class="test-duration">0.252s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; GET /api/autores/paginated</div><div class="test-title">deve permitir customizar tamanho da página</div><div class="test-status">passed</div><div class="test-duration">0.338s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; GET /api/autores/one/:id</div><div class="test-title">deve buscar autor por ID com sucesso</div><div class="test-status">passed</div><div class="test-duration">0.322s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; PUT /api/autores/:id</div><div class="test-title">deve atualizar autor com sucesso (admin)</div><div class="test-status">passed</div><div class="test-duration">0.456s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; DELETE /api/autores/:id</div><div class="test-title">deve deletar autor com sucesso (admin)</div><div class="test-status">passed</div><div class="test-duration">0.296s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; GET /api/autores/search</div><div class="test-title">deve buscar autores por nome</div><div class="test-status">passed</div><div class="test-duration">0.372s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Autor (MySQL) &gt; GET /api/autores/estatisticas</div><div class="test-title">deve retornar total de autores</div><div class="test-status">passed</div><div class="test-duration">0.387s</div></div></div></div></details><details id="suite-6" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">C:\Users\alber\biblioteca-project\src\tests\integrations\usuario.test.ts</div><div class="suite-time warn">6.523s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; POST /api/auth/register</div><div class="test-title">deve registrar um novo usuário com sucesso (público)</div><div class="test-status">passed</div><div class="test-duration">0.524s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; POST /api/auth/register</div><div class="test-title">deve registrar usuário com tipo padrão cliente</div><div class="test-status">passed</div><div class="test-duration">0.513s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; POST /api/auth/register</div><div class="test-title">deve retornar erro quando email já está em uso</div><div class="test-status">passed</div><div class="test-duration">0.596s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; POST /api/auth/register</div><div class="test-title">deve retornar erro quando nome não é informado</div><div class="test-status">passed</div><div class="test-duration">0.073s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; POST /api/auth/register</div><div class="test-title">deve retornar erro quando email é inválido</div><div class="test-status">passed</div><div class="test-duration">0.017s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; POST /api/auth/register</div><div class="test-title">deve retornar erro quando senha tem menos de 6 caracteres</div><div class="test-status">passed</div><div class="test-duration">0.014s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; POST /api/auth/login</div><div class="test-title">deve fazer login com sucesso e retornar token</div><div class="test-status">passed</div><div class="test-duration">0.257s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; POST /api/auth/login</div><div class="test-title">deve retornar erro com senha incorreta</div><div class="test-status">passed</div><div class="test-duration">0.268s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; POST /api/auth/login</div><div class="test-title">deve retornar erro com email não cadastrado</div><div class="test-status">passed</div><div class="test-duration">0.216s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; POST /api/auth/login</div><div class="test-title">deve retornar erro quando email não é informado</div><div class="test-status">passed</div><div class="test-duration">0.188s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; POST /api/usuarios (criação por admin)</div><div class="test-title">deve criar um novo usuário com sucesso (admin)</div><div class="test-status">passed</div><div class="test-duration">0.067s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; POST /api/usuarios (criação por admin)</div><div class="test-title">deve negar criação de usuário para usuário não-admin</div><div class="test-status">passed</div><div class="test-duration">0.06s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; POST /api/usuarios (criação por admin)</div><div class="test-title">deve negar criação sem token</div><div class="test-status">passed</div><div class="test-duration">0.01s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; GET /api/usuarios</div><div class="test-title">deve listar todos os usuários com token de admin</div><div class="test-status">passed</div><div class="test-duration">0.065s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; GET /api/usuarios</div><div class="test-title">deve negar listagem para usuário não-admin</div><div class="test-status">passed</div><div class="test-duration">0.101s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; GET /api/usuarios</div><div class="test-title">deve negar listagem sem token</div><div class="test-status">passed</div><div class="test-duration">0.067s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; GET /api/usuarios/:id</div><div class="test-title">deve buscar próprio usuário por ID com sucesso</div><div class="test-status">passed</div><div class="test-duration">0.061s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; GET /api/usuarios/:id</div><div class="test-title">deve permitir admin buscar qualquer usuário</div><div class="test-status">passed</div><div class="test-duration">0.062s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; GET /api/usuarios/:id</div><div class="test-title">deve retornar erro para usuário não encontrado (admin)</div><div class="test-status">passed</div><div class="test-duration">0.086s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; PUT /api/usuarios/:id</div><div class="test-title">deve atualizar próprio usuário com sucesso</div><div class="test-status">passed</div><div class="test-duration">0.102s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; PUT /api/usuarios/:id</div><div class="test-title">deve permitir admin atualizar qualquer usuário</div><div class="test-status">passed</div><div class="test-duration">0.078s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; DELETE /api/usuarios/:id</div><div class="test-title">deve permitir admin deletar qualquer usuário</div><div class="test-status">passed</div><div class="test-duration">0.098s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; DELETE /api/usuarios/:id</div><div class="test-title">deve negar usuário comum deletar outro usuário</div><div class="test-status">passed</div><div class="test-duration">0.037s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Integração - Módulo Usuário (MySQL) &gt; Validações de email e senha</div><div class="test-title">deve garantir unicidade de email mesmo com case diferente</div><div class="test-status">passed</div><div class="test-duration">0.588s</div></div></div></div></details></main></body></html>